DMD_BUILD_FLAGS 		= -gc

PROJECT_NAME 			= mathtest
PROJECT_SRC				= src/*.d
PROJECT_BUILD_PATH		= build
PROJECT_IMPORT_FLAGS	= -Isrc

ODYSSEY_SRC_ROOT		= ../../src
ODYSSEY_SRC		 		= $(ODYSSEY_SRC_ROOT)/math/*.d $(ODYSSEY_SRC_ROOT)/util/prettyout.d $(ODYSSEY_SRC_ROOT)/util/terminal.d
ODYSSEY_INCLUDE_FLAGS	= -I$(ODYSSEY_SRC_ROOT)

all:
	dmd $(DMD_BUILD_FLAGS) \
	$(PROJECT_SRC) $(ODYSSEY_SRC) \
	$(PROJECT_IMPORT_FLAGS) $(ODYSSEY_FLAGS) \
	-od$(PROJECT_BUILD_PATH) -of$(PROJECT_BUILD_PATH)/$(PROJECT_NAME)
	
run:
	@./$(PROJECT_BUILD_PATH)/$(PROJECT_NAME)

br: all run